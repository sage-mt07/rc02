## 2025-08-02 00:48 JST [codex]
- Added Push/Pull execution mode support to ToQuery DSL and builders.
- Enforced chaining order checks and disabled Tumbling window.
- Updated KsqlCreateStatementBuilder to omit `EMIT CHANGES` for pull queries.
- Added unit tests covering new execution modes and validation logic.

## 2025-08-02 00:58 JST [codex]
- Addressed diff comments: replaced escaped Japanese text with UTF-8 in KsqlQueryable files.
- Restored dependencies, built project, and ran tests (with failures).

## 2025-08-02 01:04 JST [codex]
- Changed window error message to English as per review.

## 2025-08-02 03:03 JST [codex]
- Added phase4 instructions to change summary.
- dotnet test fails due to invalid argument.
## 2025-08-02 04:16 JST [codex]
- Addressed compiler warnings in test files by removing duplicate using directives and enabling nullable context.
## 2025-08-02 01:38 JST [sion]
- DlqEnvelope の MessageId をキーに設定し、MappingRegistry 登録失敗を解消。
- `KafkaConnectivityTests` の実行を試みるも Kafka 起動待ちでタイムアウト。

## 2025-08-02 10:48 JST [sion]
- Removed obsolete three-table join integration test; join supports up to two tables.

## 2025-08-02 10:45 JST [sion]
- `SpecificRecordGenerator` の分岐命令を `Br_S` から `Br` へ変更し、"Illegal one-byte branch" 例外を防止。
- `KafkaConnectivityTests` は Kafka 未起動によりタイムアウトするが、該当例外は発生せず。

## 2025-08-02 11:01 JST [assistant]
- Removed `WithTopic` and `WithDecimalPrecision` APIs in favor of attribute-based configuration.
- Updated unit and physical tests along with documentation.

## 2025-08-02 11:14 JST [assistant]
- Removed HasKey API and updated tests and documentation.

## 2025-08-02 11:24 JST [assistant]
- Replaced remaining `.ToTopic` usage with `[KsqlTopic]` attribute and adjusted topic tests to use attributes.

## 2025-08-02 11:40 JST [sion]
- Fixed SchemaNameCaseSensitivityTests by removing mismatched field case scenario and aligning with Kafka's lowercase schema naming.
=======

## 2025-08-02 11:42 JST [assistant]
- Prevented duplicate dynamic AVRO type generation by using full type names and name-based caching in `SpecificRecordGenerator`.
- Added unit test to ensure nested classes with identical names produce unique Avro record types.
## 2025-08-02 13:06 JST [assistant]
- Added KsqlKey attribute to Order.Id in DlqIntegrationTests to resolve MappingRegistry registration error.
## 2025-08-02 04:41 JST [assistant]
- Removed temporary `[KsqlKey]` workaround in DLQ test and enabled keyless entity support in `MappingRegistry`.
- Documented change in diff log and cleaned up obsolete diff entry.

## 2025-08-02 13:58 JST [assistant]
- Updated `SpecificRecordGenerator` to emit zero-field Avro schemas for keyless mappings.
- Added unit test for empty-record generation and configured schema registry URL in producer tests.

## 2025-08-02 05:10 JST [assistant]
- Allowed `MappingRegistry` to register types with no properties by dropping value-property validation.
- Added unit test covering zero-field mappings.
## 2025-08-02 14:25 JST [sion]
- Added integration tests covering default values, decimal precision, and numeric boundary round-trips through Kafka and ksqlDB.

## 2025-08-02 15:25 JST [sion]
- Aligned `OrderCorrectCase` with existing Avro schema by adding missing fields and defaults.
- Updated integration test to avoid schema registration conflicts.

## 2025-08-02 15:56 JST [assistant]
- Enabled `Dictionary<string,string>` POCO properties to map to Avro `map` with empty default.
- Added unit tests, documentation notes, and diff log entry for dictionary support.
## 2025-08-02 16:07 JST [assistant]
- Re-ran dictionary mapping tests and documented failing integration tests due to missing Kafka/ksqlDB.
## 2025-08-02 16:21 JST [assistant]
- Asserted empty `JObject` default for map fields
- Added `KsqlTopicAttribute` parsing in `ModelBuilder`
- Fixed composite-key joins by retyping key selector lambdas
## 2025-08-02 16:33 JST [assistant]
- Added precision/scale emission for decimal Avro schemas and corresponding unit test
- Documented decimal mapping behavior and recorded diff log
## 2025-08-02 16:44 JST [assistant]
- Categorized Kafka-dependent tests with `[Category("PhysicalTest")]` and updated projects to allow excluding them via test filter
## 2025-08-02 17:28 JST [assistant]
- Pre-registered Avro key/value schemas per entity and persisted schema IDs for DDL.
- Added schema ID support in CREATE statements and recorded diff log.

## 2025-08-02 17:37 JST [assistant]
- Removed direct `Avro.Specific` dependency from `KsqlContext` by using schema strings provided by `MappingRegistry`.
- Stored Avro key/value schema JSON in `KeyValueTypeMapping` during registration.
## 2025-08-02 17:51 JST [assistant]
- Resolved nullable reference warnings in `RocksDbTableCache` by asserting non-null dependencies.
- Enabled `#nullable` context in integration and unit tests and adjusted producer tests to avoid null conversion warnings.
- Verified build has zero warnings; test run still fails due to missing Kafka/ksqlDB services.
## 2025-08-02 18:05 JST [assistant]
- Safeguarded dynamic Avro record generation with thread-safe caching in `SpecificRecordGenerator`.
- Added `coverlet.collector` to integration test project and assigned a default Schema Registry URL for test runs.
- Updated type-name expectations in `MappingRegistryTests`.
- `dotnet test --configuration Release --no-build --collect:"XPlat Code Coverage" --filter 'FullyQualifiedName!~physicalTests'` fails: Kafka/Schema Registry connections refused.
## 2025-08-02 18:13 JST [assistant]
- Populated entity key collections by scanning `[KsqlKey]` attributes in `ModelBuilder`
- Protected dynamic Avro type generation with `Lazy<Type>` caching to prevent duplicate definitions under concurrency
- Removed mandatory WHERE clause for joins and adjusted DSL tests accordingly
- Updated client creation test to expect default URL and aligned mapping namespace assertions

## 2025-08-02 18:25 JST [assistant]
- Reverted null-safety refactor in RocksDbTableCache as review indicated tests must handle initialization.

## 2025-08-02 19:01 JST [assistant]
- Implemented automatic entity registration on EventSet construction via KsqlContext.EnsureEntityModel.
- Updated KsqlContext entity set creation to use constructor-based initialization.
## 2025-08-02 19:14 JST [assistant]
- KsqlContext constructors now reflect over public EventSet<T> properties and instantiate them automatically.
- Documented change in diff log and attempted unit tests (Kafka services missing).
## 2025-08-02 19:58 JST [assistant]
- Register EventSet<T> schemas after OnModelCreating and evaluate `[KsqlTopic]`/`[KsqlKey]` attributes.
- Updated getting-started guide and added diff log entry.

## 2025-08-02 21:35 JST [naruse]
- Linked public `EventSet<T>` properties to `ModelBuilder` and ensured downstream CREATE STREAM/TABLE processing.
