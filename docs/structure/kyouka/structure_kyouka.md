# 鏡花視点 構造レビュー

この文書は [shared/structure_base.md](../shared/structure_base.md) を参照し、設計監査を担当する鏡花の観点から構造妥当性を整理したものです。

## 設計的観点

- **責務集中**: 各レイヤーのクラスは単一責務を維持し、上位から下位への依存のみ許可します。
- **結合度確認**: Messaging 層と Serialization 層の間はインターフェース越しに疎結合を保つべきです。
- **拡張ポイント**: `KsqlContextOptions` で拡張設定を受け付け、機能追加の際はここを通じて行います。

## レビューコメント例

| 指摘項目 | コメント |
|---------|---------|
| クラス責務 | `QueryBuilder` が複数の解析機能を持ち過ぎているため、モジュール分割を検討 |
| テスト範囲 | Window 処理クラスは境界値テストが不足しがち。詩音の観点と連携して補完すること |
| 名前規則 | Namespace とフォルダ構成のずれに注意。リファクタ時は `docs/diff_log` に記録 |
